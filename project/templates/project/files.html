{% extends 'project/base.html' %}

{% block title %}
{{block.super}} - Files
{% endblock %}


{% block contents %}
<h2>Not implemented yet!</h2>
<table>
    <thead>
        <tr>
            <td>
                File
            </td>
            <td>
                Created On
            </td>
            <td>
                User
            </td>
            <td>
                Total Size
            </td>
            <td>
                Versions
            </td>
        </tr>
    </thead>
{% for file in project.projectfile_set.all %}
<tr>
    <td>
        <a href="{{file.current_revision.get_s3_url}}">{{file.filename}}</a>
    </td>
    <td>
        {{file.created_on|date}}
    </td>
    <td>
        {{file.current_revision.user.username}}
    </td>
    <td>
        {{file.size_str}}
    </td>
    <td>
        Old revisions.
        <ul>
            {% for revision in file.projectfileversion_set.all %}
            <li>
                <a href="{{revision.get_s3_url}}">Version {{revision.version_number}}</a>
            </li>
            {% endfor %}
        </ul>
    </td>
</tr>
{% endfor %}
</table>


<form action="." method="post" enctype="multipart/form-data">
<fieldset>
<legend>
    Add a file
</legend>
{{addfileform.as_p}}
<input type="submit" name="Add file" value="Add file" />
</fieldset>
</form>
{% endblock %}